from PIL import Image, ImageDraw 

image = Image.open("/home/argo/Desktop/For-PenzGTU/S-E-M-E-S-T-R-O-V-I-E/semestrovaya5py/lena.bmp")  .
draw = ImageDraw.Draw(image)  # Создаем инструмент для рисования.
width = image.size[0]  
height = image.size[1] # Вычисляем высоту и ширину изображения
pixels = image.load()  # Загружаем цвет пикселей (r,b,g) пикселей.
for x in range(width):
    for y in range(height):
        a = pixels[x, y][0] # 0 это красный, 1 зелёный, 2 синий
        b = pixels[x, y][1]
        c = pixels[x, y][2]
        values = (a + b + c) / 3
        draw.point((i, j), (values, values, values))
image.save("/home/argo/Desktop/For-PenzGTU/S-E-M-E-S-T-R-O-V-I-E/semestrovaya5py/output.bmp", "JPEG")
del draw
